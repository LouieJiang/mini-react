总结 mini-react的实现过程

1. **Fiber 节点结构**：
   定义了 Fiber 数据结构。每个节点包含了组件的类型（tag）、属性（props）、子节点（child）、兄弟节点（sibling）、对应的 DOM 元素（dom）以及指向父节点的引用（parent）。这些节点被用来构建组件树，并且在调度和渲染过程中进行操作。

2. **调度器和渲染器**：
   我们实现了 `render` 函数来启动整个渲染过程。在 `render` 函数中，我们初始化了 `wipRoot`（work-in-progress root）节点，并且将 `nextUnitOfWork`（下一个工作单元）设置为 `wipRoot`。然后，我们启动了一个循环，通过 `requestIdleCallback` 来驱动调度器 `workLoop`。在 `workLoop` 中，我们不断地执行工作单元，直到所有工作都完成。

3. **协调和调度**：
   在 `performWorkOfUnit` 函数中，我们执行单个工作单元的任务。在每个工作单元中，我们首先为当前节点创建 DOM 元素（如果它还没有）并且调用 `reconcileChildren` 函数来协调子节点。然后，我们返回下一个工作单元，使得调度器能够按顺序处理所有节点。

4. **协调子节点**：
   在 `reconcileChildren` 函数中，我们对比了当前节点的子节点和之前的子节点，然后根据差异进行相应的操作。我们创建新的 Fiber 节点来表示新的子节点，并且根据需要更新 DOM 元素。同时，我们还保留了对之前 Fiber 节点的引用，以便在下一次渲染时进行比较和更新。

5. **提交更改**：
   在 `commitRoot` 函数中，我们将完成的工作提交到 DOM 中。我们递归地遍历 Fiber 树，并且将每个 Fiber 节点对应的 DOM 元素添加到其父节点中。

6. **创建 DOM 元素**：
   在 `createDom` 函数中，我们根据 Fiber 节点的类型（标签）来创建相应的 DOM 元素。对于文本节点，我们创建文本节点；对于其他类型的节点，我们创建相应类型的 HTML 元素。然后，我们调用 `updateDom` 函数来更新元素的属性。

7. **更新 DOM 元素**：
   在 `updateDom` 函数中，我们根据新旧属性的差异来更新 DOM 元素。我们移除旧属性，并且添加新属性，同时注意事件监听器的添加和移除。


